
# 3 详细解决方案

## 3.1 生产线模型管理

### 3.1.1 业务与需求描述
卷包段的每条产线也需要在系统中进行定义，以便于查看卷包作业任务及计算烟丝消耗速度。

### 3.1.2 业务逻辑与规则

##### 1. 机台生产速度配置表（`aps_machine_speed`）

###### 表结构
| 字段名           | 类型                | 约束及说明                                                                 |
|------------------|---------------------|----------------------------------------------------------------------------|
| `id`             | bigint              | 主键ID，自增                                                               |
| `machine_code`   | varchar(20)         | 机台代码，非空                                                             |
| `article_nr`     | varchar(100)        | 成品烟牌号，非空                                                           |
| `speed`          | decimal(10,2)       | 生产速度（箱/小时），非空                                                   |
| `efficiency_rate`| decimal(5,2)        | 暂不使用，默认85.00                                                        |
| `effective_from` | date                | 生效日期，非空                                                             |
| `effective_to`   | date                | 失效日期，可为空                                                           |
| `status`         | enum('ACTIVE','INACTIVE') | 状态，默认'ACTIVE'                                                        |
| `created_time`   | datetime            | 创建时间，默认当前时间                                                     |
| `updated_time`   | datetime| 更新时间，默认当前时间且更新时自动刷新|

###### 参考表数据
| id  | machine_code | article_nr | speed  | efficiency_rate | effective_from | effective_to | status  | created_time         | updated_time         |
|-----|--------------|------------|--------|-----------------|----------------|--------------|---------|----------------------|----------------------|
| 1   | *            | *          | 8.00   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-16 18:27:12  |
| 2   | A1           | *          | 18.00  | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:40:36  |
| 3   | A2           | *          | 18.00  | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:40:41  |
| 4   | A3           | *          | 18.00  | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:40:44  |
| 6   | A5           | *          | 18.00  | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:40:50  |
| 7   | A9           | *          | 7.00   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:40:53  |
| 8   | B1           | *          | 11.00  | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:40:55  |
| 9   | B2           | *          | 11.00  | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:40:58  |
| 10  | B3           | *          | 11.00  | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:01  |
| 11  | B4           | *          | 9.00   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:03  |
| 12  | B5           | *          | 9.00   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:06  |
| 13  | B6           | *          | 9.00   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:08  |
| 14  | B7           | *          | 9.00   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:10  |
| 15  | B8           | *          | 9.00   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:12  |
| 16  | B12          | *          | 11.00  | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-16 18:27:12  |
| 17  | C12          | *          | 3.00   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-16 18:27:12  |
| 18  | D1           | *          | 7.15   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:19  |
| 19  | D2           | *          | 6.80   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:22  |
| 20  | D3           | *          | 6.80   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:24  |
| 21  | D4           | *          | 7.15   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:26  |
| 22  | D5           | *          | 7.15   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:28  |
| 23  | D6           | *          | 6.10   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:31  |
| 24  | D7           | *          | 7.15   | 85.00           | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 20:41:33  |

- 用于计算指定卷包机台在加工指定产品时候的生产速度，每个机台的主数据中都包含该机台的型号，然后根据型号及产品牌号，在上表中查找生产速度。

##### 2. 班次配置表（`aps_shift_config`）

###### 表结构
| 字段名           | 类型                | 约束及说明                                                                 |
|------------------|---------------------|----------------------------------------------------------------------------|
| `id`             | bigint              | 主键ID，自增                                                               |
| `shift_name`     | varchar(50)         | 班次名称，非空                                                             |
| `machine_name`   | varchar(50)         | 机台名称（`*`表示所有机台），非空                                          |
| `start_time`     | time                | 开始时间，非空                                                             |
| `end_time`       | time                | 结束时间，非空                                                             |
| `is_ot_needed`   | tinyint(1)          | 是否需要加班，默认0                                                        |
| `max_ot_duration`| time                | 最大加班时长，可为空                                                       |
| `effective_from` | date                | 生效日期，非空                                                             |
| `effective_to`   | date                | 失效日期，可为空                                                           |
| `status`         | enum('ACTIVE','INACTIVE') | 状态，默认'ACTIVE'                                                        |
| `created_time`   | datetime            | 创建时间，默认当前时间                                                     |
| `updated_time`   | datetime            | 更新时间，默认当前时间且更新时自动刷新                                     |


###### 参考表数据
| id  | shift_name | machine_name | start_time | end_time   | is_ot_needed | max_ot_duration | effective_from | effective_to | status  | created_time         | updated_time         |
|-----|------------|--------------|------------|------------|---------------|-----------------|----------------|--------------|---------|----------------------|----------------------|
| 1   | 早班       | *            | 06:40:00   | 15:40:00   | 0             | NULL            | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-29 18:45:42  |
| 2   | 中班       | *            | 15:40:00   | 24:00:00   | 1             | 01:00:00        | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-16 18:27:12  |


##### 3. 机台基础信息表（`aps_machine`）

###### 表结构
| 字段名           | 类型                | 约束及说明                                                                 |
|------------------|---------------------|----------------------------------------------------------------------------|
| `id`             | bigint              | 主键ID，自增                                                               |
| `machine_code`   | varchar(20)         | 机台代码，非空，唯一                                                       |
| `machine_name`   | varchar(100)        | 机台名称，非空                                                             |
| `machine_type`   | enum('PACKING','FEEDING') | 机台类型（卷包机/喂丝机），非空                                           |
| `equipment_type` | varchar(50)         | 设备型号，可为空                                                           |
| `production_line`| varchar(50)         | 生产线，可为空                                                             |
| `status`         | enum('ACTIVE','INACTIVE','MAINTENANCE') | 机台状态，默认'ACTIVE'                                                   |
| `created_time`   | datetime            | 创建时间，默认当前时间                                                     |
| `updated_time`   | datetime            | 更新时间，默认当前时间且更新时自动刷新                                     |


###### 参考表数据
| id  | machine_code | machine_name | machine_type | equipment_type | production_line | status  | created_time         | updated_time         |
|-----|--------------|--------------|--------------|----------------|-----------------|---------|----------------------|----------------------|
| 1   | A1           | 卷包机A1     | PACKING      | A1             | A线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:53  |
| 2   | A2           | 卷包机A2     | PACKING      | A2             | A线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:53  |
| 3   | A3           | 卷包机A3     | PACKING      | A3             | A线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:53  |
| 4   | A4           | 卷包机A4     | PACKING      | A4             | A线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:53  |
| 5   | A5           | 卷包机A5     | PACKING      | A5             | A线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:53  |
| 6   | A6           | 卷包机A6     | PACKING      | A6             | A线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:53  |
| 7   | A7           | 卷包机A7     | PACKING      | A7             | A线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 8   | A8           | 卷包机A8     | PACKING      | A8             | A线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 9   | A9           | 卷包机A9     | PACKING      | A9             | A线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 10  | B1           | 卷包机B1     | PACKING      | B1             | B线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 11  | B2           | 卷包机B2     | PACKING      | B2             | B线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 12  | B3           | 卷包机B3     | PACKING      | B3             | B线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 13  | B4           | 卷包机B4     | PACKING      | B4             | B线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 14  | B5           | 卷包机B5     | PACKING      | B5             | B线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 15  | B6           | 卷包机B6     | PACKING      | B6             | B线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 16  | B7           | 卷包机B7     | PACKING      | B7             | B线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 17  | B8           | 卷包机B8     | PACKING      | B8             | B线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 18  | C1           | 卷包机C1     | PACKING      | C1             | C线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 19  | C2           | 卷包机C2     | PACKING      | C2             | C线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 20  | C3           | 卷包机C3     | PACKING      | C3             | C线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 21  | C4           | 卷包机C4     | PACKING      | C4             | C线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 22  | C5           | 卷包机C5     | PACKING      | C5             | C线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 23  | C6           | 卷包机C6     | PACKING      | C6             | C线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 24  | C7           | 卷包机C7     | PACKING      | C7             | C线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:54  |
| 25  | C8           | 卷包机C8     | PACKING      | C8             | C线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:55  |
| 26  | C9           | 卷包机C9     | PACKING      | C9             | C线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:55  |
| 27  | C10          | 卷包机C10    | PACKING      | C10            | C线             | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-28 18:42:55  |

##### 4. 喂丝机与卷包机对应关系表（`aps_machine_relation`）

###### 表结构
| 字段名           | 类型                | 约束及说明                                                                 |
|------------------|---------------------|----------------------------------------------------------------------------|
| `id`             | bigint              | 主键ID，自增                                                               |
| `feeder_code`    | varchar(20)         | 喂丝机代码，非空，外键关联`aps_machine(machine_code)`                      |
| `maker_code`     | varchar(20)         | 卷包机代码，非空，外键关联`aps_machine(machine_code)`                      |
| `priority`       | int                 | 优先级（1=最高），默认1                                                   |
| `effective_from` | date                | 生效日期，非空                                                             |
| `effective_to`   | date                | 失效日期，可为空                                                           |
| `status`         | enum('ACTIVE','INACTIVE') | 状态，默认'ACTIVE'                                                        |
| `created_time`   | datetime            | 创建时间，默认当前时间                                                     |
| `updated_time`   | datetime            | 更新时间，默认当前时间且更新时自动刷新                                     |


###### 参考表数据
| id  | feeder_code | maker_code | priority | effective_from | effective_to | status  | created_time         | updated_time         |
|-----|-------------|------------|----------|----------------|--------------|---------|----------------------|----------------------|
| 1   | 1           | D3         | 1        | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-16 18:27:12  |
| 2   | 2           | D1         | 1        | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-16 18:27:12  |
| 4   | 4           | C8         | 1        | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-16 18:27:12  |
| 5   | 4           | C9         | 2        | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-16 18:27:12  |
| 6   | 5           | B4         | 1        | 2024-01-01     | NULL         | ACTIVE  | 2025-08-16 18:27:12  | 2025-08-16 18:27:12  |


##### 5. 设备轮保计划表（`aps_maintenance_plan`）

###### 表结构
| 字段名               | 类型                                      | 约束及说明                                                                 |
|----------------------|-------------------------------------------|----------------------------------------------------------------------------|
| `id`                 | bigint                                    | 主键ID，自增                                                               |
| `maint_plan_no`      | varchar(50)                               | 轮保计划编号，非空，唯一                                                   |
| `schedule_date`      | date                                      | 轮保日期，非空                                                             |
| `shift_code`         | varchar(20)                               | 班次代码，可为空                                                           |
| `maint_group`        | varchar(50)                               | 轮保班组，可为空                                                           |
| `equipment_position` | varchar(50)                               | 设备机位，非空                                                             |
| `machine_code`       | varchar(20)                               | 机台代码，非空，外键关联`aps_machine(machine_code)`，删除时限制             |
| `maint_start_time`   | datetime                                  | 轮保开始时间，非空                                                         |
| `maint_end_time`     | datetime                                  | 轮保结束时间，非空                                                         |
| `estimated_duration` | int                                       | 预计耗时（分钟），可为空                                                   |
| `maint_type`         | varchar(50)                               | 轮保类型，可为空                                                           |
| `maint_level`        | varchar(50)                               | 轮保级别，可为空                                                           |
| `maint_description`  | text                                      | 轮保描述，可为空                                                           |
| `plan_status`        | enum('PLANNED','CONFIRMED','IN_PROGRESS','COMPLETED','CANCELLED') | 计划状态，默认'PLANNED'                                                    |
| `sync_from_mes`      | tinyint(1)                                | 是否来自MES，默认1                                                        |
| `sync_time`          | datetime                                  | MES同步时间，可为空                                                       |
| `mes_version`        | varchar(50)                               | MES版本号，可为空                                                         |
| `planner`            | varchar(100)                              | 制单人，可为空                                                             |
| `created_time`       | datetime                                  | 创建时间，默认当前时间                                                     |
| `updated_time`       | datetime                                  | 更新时间，默认当前时间且更新时自动刷新                                     |


###### 参考表数据
| id  | maint_plan_no       | schedule_date | shift_code | maint_group | equipment_position | machine_code | maint_start_time     | maint_end_time       | estimated_duration | maint_type | maint_level | maint_description       | plan_status | sync_from_mes | sync_time | mes_version | planner | created_time         | updated_time         |
|-----|---------------------|---------------|------------|-------------|---------------------|--------------|----------------------|----------------------|--------------------|------------|-------------|-------------------------|-------------|---------------|-----------|-------------|---------|----------------------|----------------------|
| 3   | FINAL_SUCCESS_001   | 2025-08-30    | NULL       | NULL        | 生产线              | 32           | 2025-08-30 08:00:00  | 2025-08-30 10:00:00  | NULL               | 日常保养   | NULL        | 最终成功创建维护计划     | PLANNED     | 1             | NULL      | NULL        | NULL    | 2025-09-01 09:56:54  | 2025-09-01 09:56:54  |
| 4   | FINAL_UI_TEST       | 2025-08-30    | NULL       | NULL        | 生产线              | 32           | 2025-08-30 14:00:00  | 2025-08-30 16:00:00  | NULL               | 日常保养   | NULL        | UI修复后最终测试        | PLANNED     | 1             | NULL      | NULL        | NULL    | 2025-09-01 10:08:54  | 2025-09-01 10:08:54  |

## 3.2 卷包旬计划录入，合并、拆分描述

### 3.2.1 业务与需求描述
由于卷包旬计划仅对设备轮保、机台的加工速度做粗略的考虑，因此，其结果并不能准确的反映卷包车间实际的作业计划。但卷包作业计划的准确与否直接关系到制丝作业计划的准确性，因此，在APS中，首先需要在卷包旬计划的基础上，制定详细的卷包作业计划。

APS中的卷包段作业排产在以下方面进行更加准确的计算：
- 不同卷包机台加工不同成品烟时的速度差异
- 卷包机台的工作日历（开机班次、停机时间、轮保时间等）。卷包机台轮保时间有MES提供。

### 3.2.2 输入输出

#### 3.2.2.1 输入-卷包排产计划

| 字段说明       | 类型   | 字段 ID       |
|----------------|--------|---------------|
| 生产订单号     | 文本   | WorkOrderNr   |
| 成品烟牌号     | 文本   | ArticleNr     |
| 投料总量       | 整数   | QuantityTotal |
| 成品数量       | 整数   | FinalQuantity |
| 卷包机代码     | 文本   | MakerCode     |
| 喂丝机代码     | 文本   | FeederCode    |
| 计划开始时间   | 时间戳 | PlannedStart  |
| 计划结束时间   | 时间戳 | PlannedEnd    |

调度手工输入卷包旬计划的订单，需要给出该生产单元在加工给定定单时，包含哪些设备。

对于卷包计划要求的同时开始，同时结束，是指对于同一工单下，所有喂丝机对应的卷包机台，同时开始，同时结束。

对应同一个月的卷包旬计划。如果成品牌号、卷包机代码、喂丝机代码相同，着进行合并。

合并后的卷包工单，对应属性规则：
- 计划开始时间：前一个卷包旬计划的开始时间
- 计划结束时间：后一个卷包询计划的结束时间
- 数量：两个旬计划数量之和
- 成品数量：两个旬计划数量之和
- 喂丝机代码、卷包机组代码：旬计划对应的机组

#### 3.2.2.2 输入卷包剩余数量
喂丝机工单的剩余数量  =  计划数量－已创建批次数量
卷包机剩余数量  =  喂丝机工单的剩余数量／对应的卷包机数量。

**调研问题1：卷包任务完成情况，应根据烟丝消耗情况计算**
卷包实际生产的数量，不等于计划的烟丝数量，可能有浮动。为了保证计划的完整性，应该以烟丝为基础推算卷包的完工数量。

喂丝机工单的剩余数量  =  计划数量－已创建批次数量

#### 3.2.2.3 输出－卷包作业任务、喂丝机工单
APS将拆分的卷包工作计划，喂丝机工单导出到MES。

每个卷包机组对应一个卷包工单。卷包计划的开始结束时间，取旬计划的开始结束时间，数量平均分配。

喂丝机工单对应卷包旬计划内的所有喂丝机

对于前后月份，月份不同，牌号不同的工单，需要生成备用工单。

### 3.2.3 业务逻辑与规则

#### 3.2.3.1 卷包机组合并、拆分原则
卷包计划合并的原则：
- 旬计划在同一个月份内
- 喂丝机、卷包机组相同
- 成品牌号系统

合并后的卷包工单，对应属性规则：
- 计划开始时间：前一个卷包旬计划的开始时间
- 计划结束时间：后一个卷包询计划的结束时间
- 数量：两个旬计划数量之和
- 成品数量：两个旬计划数量之和
- 喂丝机代码、卷包机组代码：旬计划对应的机组

由于某些特殊牌号，例如利群（新版印尼）。对应的是利群（新版）的喂丝机工单。仅仅是卷包有所不同。所以对于这样的工单，仅仅创建卷包计划，下发到MES。

#### 3.2.3.2 并行原则
对于卷包计划要求的同时开始，同时结束，是指对于同一工单下，所有喂丝机对应的卷包机台，同时开始，同时结束。

![并行原则示例1](https://cdn-mineru.openxlab.org.cn/result/2025-08-15/5d09b1e8-6d69-43d2-ad48-9f8eb5352eaf/f75c5dfd520c006bd90ceda9b11f4272b65b8a02ee1425cc8ef6f9f49a1d2062.jpg)

假设对于某工单A，喂丝机1，2对应卷包机1，2，3。卷包机1开始阶段为轮保，卷包机2结束阶段为轮保。

APS可以认为3个卷包机台的开始时间为卷包机3的开始时间，结束时间为卷包机1，3调整后的时间。此时卷包机2仍在轮保。

![并行原则示例2](https://cdn-mineru.openxlab.org.cn/result/2025-08-15/5d09b1e8-6d69-43d2-ad48-9f8eb5352eaf/d38d18115924265f8e1c06a84133b4a28837b812f88ce9ff047cf57293b9d515.jpg)

假设工单A为喂丝机1，对应卷包机1。工单B为喂丝机2，对应卷包机2，3. 工单C，由喂丝机3，关联到卷包机1，2，3。

APS可以认为，对于工单C，在卷包机台2，3的开始时间，可以早于卷包机1的开始时间，无需等待。

### 3.2.4 用户场景与使用情景

#### 3.2.4.1 示例描述

**调研问题2：同一喂丝工单，可能对应多台喂丝机**
异地技改之后，对于一个喂丝工单，可能对应多台喂丝机。可以视这组喂丝机为一个虚拟喂丝机，对应的多台卷包机必须同时开始，同时结束。

卷包校正的开始时间，需要考虑卷包机对应的喂丝机，之前的喂丝任务已经结束。

物料补充，对于喂丝机工单，统一补充。

**示例数据：**

| 生产订单号 | W0001      | W0001      | W0002      | W0002      | W0003      | W0003      |
|------------|------------|------------|------------|------------|------------|------------|
| 成品烟牌号 | PA         | PA         | PA         | PA         | PA         | PA         |
| 总量       | 1260000    | 1260000    | 1260000    | 1260000    | 1260000    | 1260000    |
| 卷包机代码 | JJ#01      | JJ#02      | JJ#01      | JJ#02      | JJ#01      | JJ#02      |
| 喂丝机代码 | FF#01      | FF#01      | FF#01      | FF#01      | FF#02      | FF#02      |
| 计划开始时间 | 2010-8-31 14:00 | 2010-8-31 14:00 | 2010-8-31 17:00 | 2010-8-31 17:00 | 2010-8-31 20:00 | 2010-8-31 20:00 |
| 计划结束时间 | 2010-8-31 17:00 | 2010-8-31 17:00 | 2010-8-31 20:00 | 2010-8-31 20:00 | 2010-8-31 23:00 | 2010-8-31 23:00 |

**情况分析：**

![ERP卷包订单描述](https://cdn-mineru.openxlab.org.cn/result/2025-08-15/5d09b1e8-6d69-43d2-ad48-9f8eb5352eaf/9c5ee56e181ee3ddeb777ceee2068853b2917da09dd07c3951bf5841cb0cacdb.jpg)  
图2 ERP卷包订单描述 图3

对于工单W0001和W0002，都是喂丝机1供料，所以W0002需要等待W0001结束，才可以开始。而对于工单W0003，改为由喂丝机2供料，所以W0003，可以提前开始。